<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ë‰´ìš• íŒ¨ìŠ¤ ë¹„êµ ê³„ì‚°ê¸°</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; padding: 20px; }
        .attraction-list, .recommended-list { margin-top: 15px; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        .attraction-list div, .recommended-list div { margin-bottom: 8px; }
        .price { font-weight: bold; color: #007bff; }
        .category-filter button { padding: 5px 10px; margin-right: 5px; cursor: pointer; border: 1px solid #ccc; border-radius: 3px; }
        .category-filter button:hover { background-color: #f0f0f0; }
    </style>
</head>
<body>
<h1>ğŸ—½ ë‰´ìš• ì—¬í–‰ íŒ¨ìŠ¤ ìµœì €ê°€ ê³„ì‚°ê¸°</h1>
<p>ë°©ë¬¸í•˜ê³  ì‹¶ì€ ê´€ê´‘ì§€ë¥¼ ì„ íƒí•˜ê³ , ê°€ì¥ í˜„ëª…í•œ êµ¬ë§¤ ì˜µì…˜ì„ í™•ì¸í•˜ì„¸ìš”.</p>

<form action="/compare" method="post">
    <h2>1. ì¶”ì²œ ì—¬í–‰ì§€ ë° ì¹´í…Œê³ ë¦¬ë³„ ì„ íƒ</h2>

    <h3>ğŸŒŸ ì¶”ì²œ TOP 3 (ë†’ì€ ì„ í˜¸ë„ ìˆœ)</h3>
    <div class="recommended-list">
        <div th:each="rec : ${recommended}">
            <input type="checkbox" th:id="${rec.id + '_rec'}" name="selectedAttractions" th:value="${rec.id}">
            <label th:for="${rec.id + '_rec'}">
                <span th:text="${rec.name}"></span>
                (ì¶”ì²œ ì ìˆ˜: <span th:text="${rec.recommendationScore}"></span>ì  | ê°œë³„ê°€: $<span class="price" th:text="${rec.individualPrice}"></span>)
                <a th:href="${rec.officialLink}" target="_blank" style="margin-left: 10px; font-size: 0.9em;">[ê³µì‹ ë§í¬]</a>
            </label>
        </div>
    </div>

    <h3 style="margin-top: 20px;">ëª¨ë“  ê´€ê´‘ì§€</h3>
    <div class="category-filter">
        <button type="button" onclick="filterAttractions('All')">ì „ì²´ ë³´ê¸°</button>
        <button type="button" th:each="cat : ${categories}" onclick="filterAttractions([[${cat}]])" th:text="${cat}"></button>
    </div>

    <div class="attraction-list" id="attraction-list-container">
        <div th:each="attraction : ${attractions}" th:data-category="${attraction.category}">
            <input type="checkbox"
                   th:id="${attraction.id}"
                   name="selectedAttractions"
                   th:value="${attraction.id}">
            <label th:for="${attraction.id}">
                <span th:text="${attraction.name}">ê´€ê´‘ì§€ ì´ë¦„</span>
                (<span th:text="${attraction.category}">ì¹´í…Œê³ ë¦¬</span> | ê°œë³„ê°€: $<span class="price" th:text="${attraction.individualPrice}">0</span>)
            </label>
        </div>
    </div>

    <button type="submit" style="margin-top: 20px; padding: 10px 20px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">
        ê°€ê²© ë¹„êµ ì‹œì‘!
    </button>
</form>

<script>
    function filterAttractions(category) {
        const container = document.getElementById('attraction-list-container');
        const items = container.children;

        for (let i = 0; i < items.length; i++) {
            const item = items[i];
            const itemCategory = item.getAttribute('data-category');

            if (category === 'All' || itemCategory === category) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        }
    }
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì „ì²´ ë³´ê¸° ë²„íŠ¼ í´ë¦­ íš¨ê³¼
    window.onload = () => filterAttractions('All');
</script>
</body>
</html>